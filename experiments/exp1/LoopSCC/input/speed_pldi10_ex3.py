from cfg import CFG
from int import INT
from pfg import PFG
from summarizer import Summarizer

n, det = INT.define_int("n"), INT.define_int("det")

loop = CFG.define_loop([[n > 0]], [
    (
        (n, n - 1),
    ),
    [
        ([[n > 0, det != 0]], [
            (
                (n, 0),
            )
        ]),
        ([[n <= 0], [det == 0]], [
            (
            )
        ]),
    ],
])

pfg = PFG(loop)
summarizer = Summarizer(pfg)
summarizer.summarize()
tests = [
    [(n, -9227560), (det, 1), ],
    [(n, -4044538), (det, 1), ],
    [(n, -4200713), (det, 1), ],
    [(n, -6828368), (det, 1), ],
    [(n, -7467273), (det, 1), ],
    [(n, -8471389), (det, 1), ],
    [(n, 2184169), (det, 1), ],
    [(n, -4875869), (det, 1), ],
    [(n, 6047612), (det, 1), ],
    [(n, -3881404), (det, 1), ],
    [(n, -9993350), (det, 1), ],
    [(n, -9874168), (det, 1), ],
    [(n, -5706794), (det, 1), ],
    [(n, -6886667), (det, 1), ],
    [(n, 1528425), (det, 1), ],
    [(n, -2751559), (det, 1), ],
    [(n, 7200475), (det, 1), ],
    [(n, 4017693), (det, 1), ],
    [(n, 2509831), (det, 1), ],
    [(n, -8652609), (det, 1), ],
    [(n, -1258694), (det, 1), ],
    [(n, 9105810), (det, 1), ],
    [(n, -4626232), (det, 1), ],
    [(n, -4269182), (det, 1), ],
    [(n, -2226825), (det, 1), ],
    [(n, 992119), (det, 1), ],
    [(n, -2894483), (det, 1), ],
    [(n, 4240045), (det, 1), ],
    [(n, 3620630), (det, 1), ],
    [(n, 2317931), (det, 1), ],
    [(n, 7319844), (det, 1), ],
    [(n, 8666076), (det, 1), ],
    [(n, 3788710), (det, 1), ],
    [(n, -215759), (det, 1), ],
    [(n, -5083312), (det, 1), ],
    [(n, -6415206), (det, 1), ],
    [(n, 9084820), (det, 1), ],
    [(n, -9736101), (det, 1), ],
    [(n, -3493880), (det, 1), ],
    [(n, 1862453), (det, 1), ],
    [(n, 3344497), (det, 1), ],
    [(n, -9647721), (det, 1), ],
    [(n, -353183), (det, 1), ],
    [(n, -3046675), (det, 1), ],
    [(n, -6841769), (det, 1), ],
    [(n, -253819), (det, 1), ],
    [(n, 2296034), (det, 1), ],
    [(n, -3603094), (det, 1), ],
    [(n, 7285904), (det, 1), ],
    [(n, -9392678), (det, 1), ],
    [(n, -4400761), (det, 0), ],
    [(n, 2954853), (det, 0), ],
    [(n, -4096052), (det, 0), ],
    [(n, 8090298), (det, 0), ],
    [(n, -4984151), (det, 0), ],
    [(n, -3392369), (det, 0), ],
    [(n, -2233445), (det, 0), ],
    [(n, -9443372), (det, 0), ],
    [(n, 8015039), (det, 0), ],
    [(n, -3478361), (det, 0), ],
    [(n, -7011551), (det, 0), ],
    [(n, 3809572), (det, 0), ],
    [(n, 6536753), (det, 0), ],
    [(n, -1965886), (det, 0), ],
    [(n, -2587816), (det, 0), ],
    [(n, -6098638), (det, 0), ],
    [(n, -4950745), (det, 0), ],
    [(n, -81392), (det, 0), ],
    [(n, -543480), (det, 0), ],
    [(n, 1922894), (det, 0), ],
    [(n, -1013686), (det, 0), ],
    [(n, 9336532), (det, 0), ],
    [(n, -2618279), (det, 0), ],
    [(n, -8014645), (det, 0), ],
    [(n, -2730232), (det, 0), ],
    [(n, -4303028), (det, 0), ],
    [(n, 4679472), (det, 0), ],
    [(n, -9505618), (det, 0), ],
    [(n, -1472768), (det, 0), ],
    [(n, -1925984), (det, 0), ],
    [(n, -3152869), (det, 0), ],
    [(n, 4753092), (det, 0), ],
    [(n, 6987927), (det, 0), ],
    [(n, 2602864), (det, 0), ],
    [(n, 6270255), (det, 0), ],
    [(n, -9473637), (det, 0), ],
    [(n, 3057506), (det, 0), ],
    [(n, -3611732), (det, 0), ],
    [(n, -3814421), (det, 0), ],
    [(n, 9772430), (det, 0), ],
    [(n, -7137392), (det, 0), ],
    [(n, 86251), (det, 0), ],
    [(n, 2257620), (det, 0), ],
    [(n, -1022149), (det, 0), ],
    [(n, -3343329), (det, 0), ],
    [(n, -6426666), (det, 0), ],
    [(n, -481114), (det, 0), ],
    [(n, 9768647), (det, 0), ],
    [(n, 5753526), (det, 0), ],
    [(n, -8893848), (det, 0), ],
]
for test in tests:
    result = summarizer.solve(test)
    n_val = result[0][1]
    print(f"n = {n_val}")

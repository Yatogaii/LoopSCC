from cfg import CFG
from int import INT
from spath_graph import SPath_Graph
from summarizer import Summarizer

i = INT.define_int("i")

loop = CFG.define_loop([[i > 0]], [
    [
        ([[i < 38]], [
            (
                (i, i - 1),
            )
        ]),
        ([[i >= 38]], [
            (
                (i, i - 38),
            )
        ]),
    ]
])

spg = SPath_Graph(loop)
summarizer = Summarizer(spg)
summarizer.summarize()
tests = [
    [(i, 80771), ],
    [(i, 756446), ],
    [(i, 103725), ],
    [(i, 788344), ],
    [(i, 425202), ],
    [(i, 835643), ],
    [(i, 868977), ],
    [(i, 155244), ],
    [(i, 181032), ],
    [(i, 340141), ],
    [(i, 486513), ],
    [(i, 287799), ],
    [(i, 16304), ],
    [(i, 764870), ],
    [(i, 54372), ],
    [(i, 4458), ],
    [(i, 702548), ],
    [(i, 591598), ],
    [(i, 339273), ],
    [(i, 131878), ],
    [(i, 847450), ],
    [(i, 795134), ],
    [(i, 446977), ],
    [(i, 29476), ],
    [(i, 362849), ],
    [(i, 406386), ],
    [(i, 538475), ],
    [(i, 297060), ],
    [(i, 848906), ],
    [(i, 40991), ],
    [(i, 71517), ],
    [(i, 514458), ],
    [(i, 79066), ],
    [(i, 87179), ],
    [(i, 145467), ],
    [(i, 491933), ],
    [(i, 645549), ],
    [(i, 643489), ],
    [(i, 978744), ],
    [(i, 52442), ],
    [(i, 130666), ],
    [(i, 276111), ],
    [(i, 478469), ],
    [(i, 481254), ],
    [(i, 63432), ],
    [(i, 490138), ],
    [(i, 414353), ],
    [(i, 336818), ],
    [(i, 501928), ],
    [(i, 906405), ],
    [(i, 704197), ],
    [(i, 212415), ],
    [(i, 537826), ],
    [(i, 765484), ],
    [(i, 300930), ],
    [(i, 611101), ],
    [(i, 64484), ],
    [(i, 314584), ],
    [(i, 964988), ],
    [(i, 531069), ],
    [(i, 95702), ],
    [(i, 88681), ],
    [(i, 105590), ],
    [(i, 289603), ],
    [(i, 897646), ],
    [(i, 575907), ],
    [(i, 924115), ],
    [(i, 786038), ],
    [(i, 356220), ],
    [(i, 356745), ],
    [(i, 784988), ],
    [(i, 314911), ],
    [(i, 89514), ],
    [(i, 75229), ],
    [(i, 834991), ],
    [(i, 634656), ],
    [(i, 895410), ],
    [(i, 265333), ],
    [(i, 510752), ],
    [(i, 907442), ],
    [(i, 6184604), ],
    [(i, 7496674), ],
    [(i, 1713789), ],
    [(i, -2598919), ],
    [(i, 7086149), ],
    [(i, 6666818), ],
    [(i, -8205449), ],
    [(i, -178487), ],
    [(i, -2675053), ],
    [(i, 8577389), ],
    [(i, -9927926), ],
    [(i, 913639), ],
    [(i, 7278246), ],
    [(i, 9703152), ],
    [(i, 4251811), ],
    [(i, -5050752), ],
    [(i, 9824203), ],
    [(i, -489156), ],
    [(i, -5369874), ],
    [(i, 1514238), ],
]
for test in tests:
    result = summarizer.solve(test)
    for symbol_val in result:
        print(f"{symbol_val[0]} = {symbol_val[1]}")

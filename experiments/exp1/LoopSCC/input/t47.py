from cfg import CFG
from int import INT
from pfg import PFG
from summarizer import Summarizer

n, flag = INT.define_int("n"), INT.define_int("flag")

loop = CFG.define_loop([[flag > 0]], [
    [
        ([[n > 0]], [
            (
                (n, n - 1),
                (flag, 1),
            )
        ]),
        ([[n <= 0]], [
            (
                (flag, 0),
            )
        ]),
    ]
])

pfg = PFG(loop)
summarizer = Summarizer(pfg)
summarizer.summarize()
tests = [
    [(n, -9941008), ],
    [(n, -3027071), ],
    [(n, -2997709), ],
    [(n, 8680271), ],
    [(n, 6457962), ],
    [(n, -4042717), ],
    [(n, 5379250), ],
    [(n, 876290), ],
    [(n, 3521134), ],
    [(n, -5837777), ],
    [(n, 9256858), ],
    [(n, -1592695), ],
    [(n, 3551582), ],
    [(n, 4647981), ],
    [(n, 1469547), ],
    [(n, -2118659), ],
    [(n, -697109), ],
    [(n, -7866105), ],
    [(n, -8388269), ],
    [(n, 7965295), ],
    [(n, -8602117), ],
    [(n, 6546989), ],
    [(n, 5392508), ],
    [(n, -3070296), ],
    [(n, -4553364), ],
    [(n, 3959988), ],
    [(n, -249164), ],
    [(n, -1267460), ],
    [(n, -5061267), ],
    [(n, -4111717), ],
    [(n, -7444650), ],
    [(n, 5478890), ],
    [(n, -2950866), ],
    [(n, -3114209), ],
    [(n, -4373389), ],
    [(n, -9330104), ],
    [(n, -1952077), ],
    [(n, -4190571), ],
    [(n, -9393234), ],
    [(n, -8065309), ],
    [(n, -7604606), ],
    [(n, -6687782), ],
    [(n, -6439127), ],
    [(n, -6610881), ],
    [(n, 7150395), ],
    [(n, -4501556), ],
    [(n, 3726442), ],
    [(n, -5233053), ],
    [(n, 2769303), ],
    [(n, -6883923), ],
    [(n, -9083195), ],
    [(n, -3606361), ],
    [(n, 5675583), ],
    [(n, -3707890), ],
    [(n, -7534660), ],
    [(n, 4919413), ],
    [(n, -9689485), ],
    [(n, 6259304), ],
    [(n, -6517305), ],
    [(n, -4494277), ],
    [(n, -6092666), ],
    [(n, 4154878), ],
    [(n, -7997104), ],
    [(n, -6029961), ],
    [(n, -6671812), ],
    [(n, 8571707), ],
    [(n, 4202201), ],
    [(n, -2820551), ],
    [(n, -3520218), ],
    [(n, 6101493), ],
    [(n, -3936057), ],
    [(n, -7635775), ],
    [(n, -9531798), ],
    [(n, 8312792), ],
    [(n, 1875168), ],
    [(n, 4168572), ],
    [(n, -4677593), ],
    [(n, 5750334), ],
    [(n, -2098572), ],
    [(n, 14103), ],
    [(n, 3077059), ],
    [(n, -1511326), ],
    [(n, -695223), ],
    [(n, 1296076), ],
    [(n, -117576), ],
    [(n, -6471624), ],
    [(n, 9647751), ],
    [(n, 9188752), ],
    [(n, -7865267), ],
    [(n, 6673288), ],
    [(n, 3908262), ],
    [(n, 8749604), ],
    [(n, 1147755), ],
    [(n, 2112092), ],
    [(n, -7895659), ],
    [(n, 3896486), ],
    [(n, 4218249), ],
    [(n, 4560606), ],
    [(n, -8537143), ],
    [(n, -8232332), ],
]
for test in tests:
    test.append((flag, 1))
    result = summarizer.solve(test)

    n_val = result[0][1]
    flag_val = result[1][1]

    print(f"n = {n_val}")
    print(f"flag = {flag_val}")
